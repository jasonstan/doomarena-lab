<section id="trial-io">
  <h2>Trial I/O</h2>
  <p class="muted">$status_line</p>
  <table class="io-table">
    <thead>
      <tr>
        <th>trial_id</th><th>callable</th><th>pre_gate</th><th>post_gate</th><th>success</th><th>input</th><th>output</th>
      </tr>
    </thead>
    <tbody>
      <!-- TODO: prompt_html/response_html are empty when rows only contain placeholder values (see DIAGNOSIS). -->
      $table_rows
    </tbody>
  </table>
  <p class="muted">Raw artifacts: <a href="$rel_root/rows.jsonl">rows.jsonl</a> Â· <a href="$rel_root/summary.csv">summary.csv</a></p>
</section>
<script>
document.addEventListener('click', function(e){
  const t = e.target;
  if (t && t.matches('[data-expands]')) {
    const id = t.getAttribute('data-expands');
    const full = document.getElementById(id);
    if (!full) return;
    const open = full.style.display === 'block';
    full.style.display = open ? 'none' : 'block';
    t.textContent = open ? 'Expand' : 'Collapse';
  }
});
</script>
<style>
.io-table{width:100%; border-collapse:collapse}
.io-table th,.io-table td{border:1px solid #ddd; padding:8px; vertical-align:top}
.muted{opacity:.75; font-size:.9em}
.preview,.fulltext{white-space:pre-wrap}
.fulltext{display:none; margin-top:.5rem}
.toggle{cursor:pointer; border:none; background:#eee; padding:.25rem .5rem; border-radius:.25rem}
.expander{display:flex; flex-direction:column; gap:.5rem}
</style>
