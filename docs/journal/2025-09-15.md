# 2025-09-15 — Experiment engine v1.2: xsweep, config hashing, CSV aggregation

## What shipped
- **Experiment configs + CLI overrides.** `configs/airline_escalating_v1/run.yaml` with `--seeds/--trials/--mode` overrides.
- **xsweep runner + Make glue.** `scripts/xsweep.py` and Make targets (`xsweep`, `sweep3`, `report`, `aggregate`, `plot`) for multi-seed sweeps.
- **Experiment id / hashing** for stable, comparable outputs.
- **Results aggregation.** `scripts/aggregate_results.py` → `results/summary.csv`; `make report` regenerates artifacts before sampling the CSV.
- **Shim run + τ-Bench prep.** `scripts/taubench_airline_da_real.py` (SHIM mode) and `scripts/ensure_tau_bench.py` behind `make install-tau`.
- **Hardening + cleanup.** Better seed handling, YAML load fix, merge-conflict resolutions, stale PR closed.

## Why it matters
- One-command, reproducible sweeps with a single CSV roll-up.
- Deterministic naming for easy comparison across runs.
- Unblocked now (SHIM) while being ready to flip to real τ-Bench.

## Evidence / links
- JSONL (shim): `results/airline_escalating_v1/airline_escalating_seed42.jsonl`
- CSV: `results/summary.csv` (shows `airline_escalating_seed42`, **ASR 0.6** over 5 trials)
- Key scripts/targets: `scripts/xsweep.py`, `scripts/run_experiment.py`, `scripts/aggregate_results.py`, `Makefile` (`xsweep`, `aggregate`, `report`, `plot`, `install-tau`)

## Next
- Enable real τ-Bench when credentials/package are available; keep SHIM as fallback.
- Add plotting into `make report` and embed chart in README.
- Extend to a second attack/env and add multi-experiment sweeps.
- Persist run metadata (hash, seed list, versions) alongside JSONL/CSV.
